!function(t){"use strict";t.module("voterClientApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"])}(window.angular),function(t){"use strict";t.module("voterClientApp").config(["$locationProvider",function(t){t.html5Mode(!0)}])}(window.angular),function(t){"use strict";t.module("voterClientApp").constant("EnvironmentConfig",{description:"Call the Voter Service directly in a local development environment",apiUrl:"http://localhost",apiPort:"8080"})}(window.angular),function(t){"use strict";t.module("voterClientApp").config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/voter.html",controller:"VoterController",controllerAs:"voter"}).otherwise({redirectTo:"/"})}])}(window.angular),function(t){"use strict";t.module("voterClientApp").controller("VoterController",["$scope","VoterService",function(t,e){t.candidates,t.vote,t.results,t.resultsCount,t.winners,t.winnersVotes,t.getCandidates=function(){e.getCandidates().then(function(e){console.log(e),t.candidates=e},function(t){console.error(t)})},t.PostVote=function(){t.selected&&e.postVote(t.selected).then(function(e){console.log(e),t.vote=e,t.GetResults(),t.getResultsVotes(),t.getWinnersVotes(),t.selected=null},function(t){console.error(t)})},t.GetResults=function(){e.getResults().then(function(e){console.log(e),t.results=e},function(t){console.error(t)})},t.getResultsVotes=function(){e.getResultsVotes().then(function(e){console.log(e),t.resultsCount=e},function(t){console.error(t)})},t.getWinners=function(){e.getWinners().then(function(e){console.log(e),t.winners=e},function(t){console.error(t)})},t.getWinnersVotes=function(){e.getWinnersVotes().then(function(e){console.log(e),t.winnersVotes=e},function(t){console.error(t)})},t.$on("$viewContentLoaded",function(){t.getCandidates(),t.GetResults(),t.getResultsVotes(),t.getWinnersVotes()})}])}(window.angular),function(t){"use strict";t.module("voterClientApp").factory("VoterService",["$q","$http","EnvironmentConfig",function(t,e,o){var n=o.apiUrl+":"+o.apiPort;return{getCandidates:function(){var o=t.defer();return e.get(n+"/voter/candidates/db/election/2016%20Presidential%20Election").then(function(t){o.resolve(t)},function(t){console.error("Error: "+t)}),o.promise},getResults:function(){var o=t.defer();return e.get(n+"/voter/results").then(function(t){o.resolve(t)},function(t){console.error("Error: "+t)}),o.promise},getResultsVotes:function(){var o=t.defer();return e.get(n+"/voter/results/votes").then(function(t){o.resolve(t)},function(t){console.error("Error: "+t)}),o.promise},getWinners:function(){var o=t.defer();return e.get(n+"/voter/winners").then(function(t){o.resolve(t)},function(t){console.error("Error: "+t)}),o.promise},getWinnersVotes:function(){var o=t.defer();return e.get(n+"/voter/winners/votes").then(function(t){o.resolve(t)},function(t){console.error("Error: "+t)}),o.promise},postVote:function(o){var r='{ "candidate": "'+o.fullName+'", "election": "'+o.politicalParty+'" }',s=t.defer();return e.post(n+"/voter/votes",r).then(function(t){s.resolve({data:t})},function(t){console.error("Error: "+t)}),s.promise}}}])}(window.angular),angular.module("voterClientApp").run(["$templateCache",function(t){"use strict";t.put("views/voter.html",'<div ng-controller="VoterController"> <div class="container-fluid"> <div class="row"> <div class="col-sm-12 col-md-8"> <h4 class="top15">Voter Client Application</h4> </div> </div> <div class="row top15"> <div class="col-sm-8 col-md-4"> <form name="VoterForm"> <div class="form-group"> <label for="candidateSelect">Candidate</label> <select class="form-control" id="candidateSelect" ng-options="candidate.fullName for candidate in candidates.data.candidates track by candidate.fullName" ng-model="selected"> <option value="">Select a Candidate...</option> </select> </div> <div class="top15"> <button ng-click="PostVote()" class="btn btn-primary"> Submit </button> </div> </form> </div> </div> <div class="row top30"> <div class="col-sm-8 col-md-4"> <span class="new-vote" ng-show="vote.data.data.candidate">{{(vote.data.data.candidate) ? \'Vote for \' + vote.data.data.candidate + \'!\' : \'\'}}</span> </div> </div> <div class="row top30"> <div class="col-sm-8 col-md-4"> <h5>Election Results</h5> <div> <div class="table-responsive"> <table class="table table-bordered table-striped table-sm"> <thead> <tr> <th class="text-sm-center">#</th> <th class="text-sm-center">Candidate</th> <th class="text-sm-center">Votes</th> </tr> </thead> <tbody> <tr ng-repeat="result in results.data.results | orderBy:\'-votes\'" ng-class="{\'winners\': result.votes == winnersVotes.data.votes}"> <td class="text-sm-center">{{ $index+1 }}</td> <td>{{ result.candidate }}</td> <td class="text-sm-right">{{ result.votes }}</td> </tr> <tfoot class="total"> <td class="text-sm-right" colspan="2">Total</td> <td id="total-votes" class="text-sm-right"><span ng-bind="resultsCount.data.votes"></span></td> </tfoot> </tbody> </table> </div> </div> </div> </div> <div class="top15 bottom15"> <small><a href="https://programmaticponderings.com/">Programmatic Ponderings</a> - 2017</small> </div> </div> </div> ')}]);